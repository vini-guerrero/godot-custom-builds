name: Build Environment
# on: [push]
on: [workflow_dispatch]

env:
  GODOT_BRANCH: 3.x
  SCONS_CACHE_LIMIT: 4096
  SCONS_CACHE: ${{github.workspace}}/.scons_cache/

jobs:
  Build:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-20.04, windows-latest, macos-latest]
        platform: [Linux, Windows, OSX]
    steps:
      - uses: actions/checkout@v2
      - uses: vini-guerrero/godot-custom-builds/environment@main
        with:
          environment: ${{ matrix.platform }}
        env:
          os: ${{ matrix.os }}
